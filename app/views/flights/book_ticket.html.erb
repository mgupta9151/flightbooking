<div id="seatmap">
    <div id="plane">
        <table class="rows">
          <%for i in 1..@seat%>
            <tr>
                <td></td>
            </tr>
            <%end%>
        </table>
        
        <div id="cabin">        
            <table>
              <% @flight_seats.each_slice(@seat).with_index do |flight_seats, i| %>
              <tr>
                <% flight_seats.each do |flight_seat| %>
                <%data = check_availability(@flight,flight_seat)%>
                <%if data == "Available"%>            
                  <td title="<%=data%>" class="seatAvailable" seat_type="<%=flight_seat.seat_type%>" seat_id="<%=flight_seat.id%>"><input type="checkbox" name=""></td>
                  <%else%>
                  <td title="<%=data%>" class="seatUnavailable" seat_type="<%=flight_seat.seat_type%>" seat_id="<%=flight_seat.id%>"></td>
                  <%end%>
                <%end%>              
              </tr>
              <%end%>

            </table>            
        </div>
        <div style="clear: both;"></div>
    </div>
</div>

<script type="text/javascript">
document.onkeydown = function(e) {
if(event.keyCode == 123) {
return false;
}
if(e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0)){
return false;
}
if(e.ctrlKey && e.shiftKey && e.keyCode == 'J'.charCodeAt(0)){
return false;
}
if(e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)){
return false;
}
}

</script>

<style type="text/css">
tr { display: block; float: left; }
th, td { display: block; }

table {
    width: 100%;
    display:block;
}
td{
      margin: 10px;
}
thead {
    display: inline-flex;
    width: 100%;
    height: 20px;
}
tbody {
    height: 200px;
    display: inline-flex;
    width: 100%;
    overflow: auto;
}

  body {
    font-family: Arial; 
    font-size: 11px;
}
#seatmap { 
    position: relative; 
}
#seatmap table {
    border-collapse: separate;
    border-spacing: 3px;
}


#plane {
  height: auto;
  background: #fff;
  border: solid 1px #aaa;
  border-radius: 80px 0 0 80px;
  z-index: 1;
}
    #plane .rows {
        width: 30px;
        float: left;  
        empty-cells: show;
        margin-top: 8px;
        margin-left: 30px;
    }
        #plane .rows td { 
            height: 16px; 
            text-align: right;
        }

#cabin { 
    background-color: #dedede; 
    border: none;
    border-left: double 3px #999;
    width: 94.5% !important;
    height: auto; 
    padding: 5px;
    float: left;
    margin-left: 0px;
}

#cabin td { width: 15px; height: 15px; border: solid 1px #666; border-radius: 7px 0 0 7px; text-align: center; cursor: pointer; }
    #cabin td.row              { background-color: transparent; border: none; font-weight: bold; padding-right: 7px; }
    #cabin td.seatAvailable    { background-color: #01B213; color: #fff; }
    #cabin td.seatUnavailable  { background-color: #aaa !important; color: #ddd !important; }
    #cabin td.ExtraPay         { background-color: navy; color: #fff !important; }
    #cabin td.LargeSeat        { width: 23px; }
    #cabin td.noSeatGalley     { background-color: transparent; border: none; width: 10px; height: 10px;  }
    #cabin td.noSeatStorage    { background-color: #aaa; }
    #cabin td.noSeatLavatory   { background-color: #aaa; }

#cabin tr:first-child td.wingSeat { border-top: solid 2px #333; }
#cabin tr:last-child td.wingSeat { border-bottom: solid 2px #333; }
</style>

<script type="text/javascript">
  $('.noSeatStorage').html('S');
$('.noSeatLavatory').html('L');
$('.ExtraPay').html('E');
$('.LargeSeat').html('XL');
</script>

